class vt{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}function Ze(e){e.stopPropagation()}var $=vt,yt={PROPERTYCHANGE:"propertychange"};class Ct{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}var It=Ct;function Ye(e,t,n){let i,s;n=n||J;let r=0,o=e.length,a=!1;for(;r<o;)i=r+(o-r>>1),s=+n(e[i],t),s<0?r=i+1:(o=i,a=!s);return a?r:~r}function J(e,t){return e>t?1:e<t?-1:0}function qe(e,t){return e<t?1:e>t?-1:0}function He(e,t,n){if(e[0]<=t)return 0;const i=e.length;if(t<=e[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const r=e[s];if(r===t)return s;if(r<t)return n(t,e[s-1],r)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(e[s]<t)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(let s=1;s<i;++s){if(e[s]==t)return s;if(e[s]<t)return e[s-1]-t<t-e[s]?s-1:s}return i-1}function je(e,t,n){for(;t<n;){const i=e[t];e[t]=e[n],e[n]=i,++t,--n}}function $e(e,t){const n=Array.isArray(t)?t:[t],i=n.length;for(let s=0;s<i;s++)e[e.length]=n[s]}function Ot(e,t){const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function Je(e,t,n){const i=t||J;return e.every(function(s,r){if(r===0)return!0;const o=i(e[r-1],s);return!(o>0||n&&o===0)})}function At(){return!0}function Q(){return!1}function D(){}function Qe(e){let t=!1,n,i,s;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==s||!Ot(r,i))&&(t=!0,s=this,i=r,n=e.apply(this,arguments)),n}}function xe(e){function t(){let n;try{n=e()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return t()}function x(e){for(const t in e)delete e[t]}function Tt(e){let t;for(t in e)return!1;return!t}class bt extends It{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,n){if(!t||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[t]||(i[t]=[]);s.includes(n)||s.push(n)}dispatchEvent(t){const n=typeof t=="string",i=n?t:t.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=n?new $(t):t;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let c=0,u=s.length;c<u;++c)if("handleEvent"in s[c]?l=s[c].handleEvent(r):l=s[c].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,D);delete o[i]}return l}disposeInternal(){this.listeners_&&x(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,n){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[s]=D,++this.pendingRemovals_[t]):(i.splice(s,1),i.length===0&&delete this.listeners_[t]))}}var Rt=bt,v={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function A(e,t,n,i,s){if(i&&i!==e&&(n=n.bind(i)),s){const o=n;n=function(){e.removeEventListener(t,n),o.apply(this,arguments)}}const r={target:e,type:t,listener:n};return e.addEventListener(t,n),r}function Z(e,t,n,i){return A(e,t,n,i,!0)}function M(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),x(e))}class b extends Rt{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(v.CHANGE)}getRevision(){return this.revision_}onInternal(t,n){if(Array.isArray(t)){const i=t.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=A(this,t[r],n);return s}return A(this,t,n)}onceInternal(t,n){let i;if(Array.isArray(t)){const s=t.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=Z(this,t[r],n)}else i=Z(this,t,n);return n.ol_key=i,i}unInternal(t,n){const i=n.ol_key;if(i)Lt(i);else if(Array.isArray(t))for(let s=0,r=t.length;s<r;++s)this.removeEventListener(t[s],n);else this.removeEventListener(t,n)}}b.prototype.on;b.prototype.once;b.prototype.un;function Lt(e){if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)M(e[t]);else M(e)}function tn(){throw new Error("Unimplemented abstract method.")}let Dt=0;function Mt(e){return e.ol_uid||(e.ol_uid=String(++Dt))}const en="8.2.0";class Y extends ${constructor(t,n,i){super(t),this.key=n,this.oldValue=i}}class wt extends b{constructor(t){super(),this.on,this.once,this.un,Mt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let n;return this.values_&&this.values_.hasOwnProperty(t)&&(n=this.values_[t]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,n){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new Y(i,t,n)),i=yt.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Y(i,t,n))}addChangeListener(t,n){this.addEventListener(`change:${t}`,n)}removeChangeListener(t,n){this.removeEventListener(`change:${t}`,n)}set(t,n,i){const s=this.values_||(this.values_={});if(i)s[t]=n;else{const r=s[t];s[t]=n,r!==n&&this.notify(t,r)}}setProperties(t,n){for(const i in t)this.set(i,t[i],n)}applyProperties(t){!t.values_||Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,n){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],Tt(this.values_)&&(this.values_=null),n||this.notify(t,i)}}}var tt=wt,Pt={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"};const p=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",Nt=p.includes("firefox"),St=p.includes("safari")&&!p.includes("chrom"),nn=St&&(p.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(p)),Kt=p.includes("webkit")&&!p.includes("edge"),N=p.includes("macintosh"),Ut=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,Ft=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,sn=typeof Image!="undefined"&&Image.prototype.decode,rn=typeof createImageBitmap=="function",an=function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return e}();function on(e,t,n,i){let s;return n&&n.length?s=n.shift():Ft?s=new OffscreenCanvas(e||300,t||300):s=document.createElement("canvas"),e&&(s.width=e),t&&(s.height=t),s.getContext("2d",i)}function ln(e){const t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function cn(e){let t=e.offsetWidth;const n=getComputedStyle(e);return t+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),t}function un(e){let t=e.offsetHeight;const n=getComputedStyle(e);return t+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),t}function fn(e,t){const n=t.parentNode;n&&n.replaceChild(e,t)}function q(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function hn(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function dn(e,t){const n=e.childNodes;for(let i=0;;++i){const s=n[i],r=t[i];if(!s&&!r)break;if(s!==r){if(!s){e.appendChild(r);continue}if(!r){e.removeChild(s),--i;continue}e.insertBefore(r,s)}}}class kt extends tt{constructor(t){super();const n=t.element;n&&!t.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){q(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(t){this.map_&&q(this.element);for(let n=0,i=this.listenerKeys.length;n<i;++n)M(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=t,t&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==D&&this.listenerKeys.push(A(t,Pt.POSTRENDER,this.render,this)),t.render())}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}var zt=kt;const gn="ol-hidden",mn="ol-selectable",Vt="ol-unselectable",pn="ol-unsupported",Wt="ol-control",En="ol-collapsed",Xt=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),H=["style","variant","weight","size","lineHeight","family"],_n=function(e){const t=e.match(Xt);if(!t)return null;const n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,s=H.length;i<s;++i){const r=t[i+1];r!==void 0&&(n[H[i]]=r)}return n.families=n.family.split(/,\s?/),n};function et(e){return Math.pow(e,3)}function R(e){return 1-et(1-e)}function w(e){return 3*e*e-2*e*e*e}function nt(e){return e}function Bt(e){return e<.5?w(2*e):1-w(2*(e-.5))}var vn=Object.freeze(Object.defineProperty({__proto__:null,easeIn:et,easeOut:R,inAndOut:w,linear:nt,upAndDown:Bt},Symbol.toStringTag,{value:"Module"}));class Gt extends zt{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const n=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,s=t.zoomInClassName!==void 0?t.zoomInClassName:n+"-in",r=t.zoomOutClassName!==void 0?t.zoomOutClassName:n+"-out",o=t.zoomInLabel!==void 0?t.zoomInLabel:"+",a=t.zoomOutLabel!==void 0?t.zoomOutLabel:"\u2013",l=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",c=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=s,u.setAttribute("type","button"),u.title=l,u.appendChild(typeof o=="string"?document.createTextNode(o):o),u.addEventListener(v.CLICK,this.handleClick_.bind(this,i),!1);const f=document.createElement("button");f.className=r,f.setAttribute("type","button"),f.title=c,f.appendChild(typeof a=="string"?document.createTextNode(a):a),f.addEventListener(v.CLICK,this.handleClick_.bind(this,-i),!1);const h=n+" "+Vt+" "+Wt,d=this.element;d.className=h,d.appendChild(u),d.appendChild(f),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,n){n.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const r=i.getConstrainedZoom(s+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:r,duration:this.duration_,easing:R})):i.setZoom(r)}}}var yn=Gt,j={ACTIVE:"active"};class Zt extends tt{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(j.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(j.ACTIVE,t)}setMap(t){this.map_=t}}function Cn(e,t,n){const i=e.getCenterInternal();if(i){const s=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:n!==void 0?n:250,easing:nt,center:e.getConstrainedCenter(s)})}}function Yt(e,t,n,i){const s=e.getZoom();if(s===void 0)return;const r=e.getConstrainedZoom(s+t),o=e.getResolutionForZoom(r);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:o,anchor:n,duration:i!==void 0?i:250,easing:R})}var it=Zt,_={SINGLECLICK:"singleclick",CLICK:v.CLICK,DBLCLICK:v.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class qt extends it{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==_.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==_.POINTERUP){const i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==_.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,n=this.stopDown(i)}else t.type==_.POINTERMOVE&&this.handleMoveEvent(t);return!n}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Ht(e){const t=e.length;let n=0,i=0;for(let s=0;s<t;s++)n+=e[s].clientX,i+=e[s].clientY;return{clientX:n/t,clientY:i/t}}var jt=qt;function L(e,t){if(!e)throw new Error(t)}function T(e){const t=arguments;return function(n){let i=!0;for(let s=0,r=t.length;s<r&&(i=i&&t[s](n),!!i);++s);return i}}const $t=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Jt=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},st=function(e){const t=e.map.getTargetElement(),n=e.map.getOwnerDocument().activeElement;return t.contains(n)},S=function(e){return e.map.getTargetElement().hasAttribute("tabindex")?st(e):!0},rt=At,Qt=function(e){return e.type==_.CLICK},xt=function(e){const t=e.originalEvent;return t.button==0&&!(Kt&&N&&t.ctrlKey)},te=Q,ee=function(e){return e.type=="pointermove"},ne=function(e){return e.type==_.SINGLECLICK},ie=function(e){return e.type==_.DBLCLICK},at=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},se=function(e){const t=e.originalEvent;return!t.altKey&&(N?t.metaKey:t.ctrlKey)&&!t.shiftKey},re=function(e){const t=e.originalEvent;return N?t.metaKey:t.ctrlKey},ae=function(e){const t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},oe=function(e){const t=e.originalEvent,n=t.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!t.target.isContentEditable},le=function(e){const t=e.originalEvent;return L(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType=="mouse"},ce=function(e){const t=e.originalEvent;return L(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType==="touch"},ue=function(e){const t=e.originalEvent;return L(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.pointerType==="pen"},ot=function(e){const t=e.originalEvent;return L(t!==void 0,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&t.button===0};var In=Object.freeze(Object.defineProperty({__proto__:null,all:T,altKeyOnly:$t,altShiftKeysOnly:Jt,focus:st,focusWithTabindex:S,always:rt,click:Qt,mouseActionButton:xt,never:te,pointerMove:ee,singleClick:ne,doubleClick:ie,noModifierKeys:at,platformModifierKeyOnly:se,platformModifierKey:re,shiftKeyOnly:ae,targetNotEditable:oe,mouseOnly:le,touchOnly:ce,penOnly:ue,primaryAction:ot},Symbol.toStringTag,{value:"Module"})),g={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function fe(e){const t=K();for(let n=0,i=e.length;n<i;++n)U(t,e[n]);return t}function he(e,t,n){const i=Math.min.apply(null,e),s=Math.min.apply(null,t),r=Math.max.apply(null,e),o=Math.max.apply(null,t);return O(i,s,r,o,n)}function de(e,t,n){return n?(n[0]=e[0]-t,n[1]=e[1]-t,n[2]=e[2]+t,n[3]=e[3]+t,n):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}function ge(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()}function me(e,t,n){let i,s;return t<e[0]?i=e[0]-t:e[2]<t?i=t-e[2]:i=0,n<e[1]?s=e[1]-n:e[3]<n?s=n-e[3]:s=0,i*i+s*s}function pe(e,t){return lt(e,t[0],t[1])}function Ee(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]}function lt(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function P(e,t){const n=e[0],i=e[1],s=e[2],r=e[3],o=t[0],a=t[1];let l=g.UNKNOWN;return o<n?l=l|g.LEFT:o>s&&(l=l|g.RIGHT),a<i?l=l|g.BELOW:a>r&&(l=l|g.ABOVE),l===g.UNKNOWN&&(l=g.INTERSECTING),l}function K(){return[1/0,1/0,-1/0,-1/0]}function O(e,t,n,i,s){return s?(s[0]=e,s[1]=t,s[2]=n,s[3]=i,s):[e,t,n,i]}function I(e){return O(1/0,1/0,-1/0,-1/0,e)}function _e(e,t){const n=e[0],i=e[1];return O(n,i,n,i,t)}function ve(e,t){const n=I(t);return F(n,e)}function ye(e,t,n,i,s){const r=I(s);return ct(r,e,t,n,i)}function Ce(e,t){const n=I(t);return ut(n,e)}function Ie(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function Oe(e,t,n){return Math.abs(e[0]-t[0])<n&&Math.abs(e[2]-t[2])<n&&Math.abs(e[1]-t[1])<n&&Math.abs(e[3]-t[3])<n}function Ae(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function U(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function F(e,t){for(let n=0,i=t.length;n<i;++n)U(e,t[n]);return e}function ct(e,t,n,i,s){for(;n<i;n+=s)ft(e,t[n],t[n+1]);return e}function ut(e,t){for(let n=0,i=t.length;n<i;++n)F(e,t[n]);return e}function ft(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Te(e,t){let n;return n=t(k(e)),n||(n=t(z(e)),n)||(n=t(X(e)),n)||(n=t(W(e)),n)?n:!1}function ht(e){let t=0;return B(e)||(t=E(e)*V(e)),t}function k(e){return[e[0],e[1]]}function z(e){return[e[2],e[1]]}function dt(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function be(e,t){let n;if(t==="bottom-left")n=k(e);else if(t==="bottom-right")n=z(e);else if(t==="top-left")n=W(e);else if(t==="top-right")n=X(e);else throw new Error("Invalid corner");return n}function Re(e,t){const n=Math.min(e[0],t[0]),i=Math.min(e[1],t[1]),s=Math.max(e[2],t[2]),r=Math.max(e[3],t[3]);return(s-n)*(r-i)}function Le(e,t,n,i,s){const[r,o,a,l,c,u,f,h]=gt(e,t,n,i);return O(Math.min(r,a,c,f),Math.min(o,l,u,h),Math.max(r,a,c,f),Math.max(o,l,u,h),s)}function gt(e,t,n,i){const s=t*i[0]/2,r=t*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=s*o,c=s*a,u=r*o,f=r*a,h=e[0],d=e[1];return[h-l+f,d-c-u,h-l-f,d-c+u,h+l-f,d+c+u,h+l+f,d+c-u,h-l+f,d-c-u]}function V(e){return e[3]-e[1]}function De(e,t){const n=mt(e,t);return ht(n)}function mt(e,t,n){const i=n||K();return pt(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):I(i),i}function Me(e){return E(e)+V(e)}function we(e){return[e[2]-e[0],e[3]-e[1]]}function W(e){return[e[0],e[3]]}function X(e){return[e[2],e[3]]}function E(e){return e[2]-e[0]}function pt(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function B(e){return e[2]<e[0]||e[3]<e[1]}function Pe(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}function Ne(e,t){const n=(e[2]-e[0])/2*(t-1),i=(e[3]-e[1])/2*(t-1);e[0]-=n,e[2]+=n,e[1]-=i,e[3]+=i}function Se(e,t,n){let i=!1;const s=P(e,t),r=P(e,n);if(s===g.INTERSECTING||r===g.INTERSECTING)i=!0;else{const o=e[0],a=e[1],l=e[2],c=e[3],u=t[0],f=t[1],h=n[0],d=n[1],m=(d-f)/(h-u);let y,C;!!(r&g.ABOVE)&&!(s&g.ABOVE)&&(y=h-(d-c)/m,i=y>=o&&y<=l),!i&&!!(r&g.RIGHT)&&!(s&g.RIGHT)&&(C=d-(h-l)*m,i=C>=a&&C<=c),!i&&!!(r&g.BELOW)&&!(s&g.BELOW)&&(y=h-(d-a)/m,i=y>=o&&y<=l),!i&&!!(r&g.LEFT)&&!(s&g.LEFT)&&(C=d-(h-o)*m,i=C>=a&&C<=c)}return i}function Ke(e,t,n,i){if(B(e))return I(n);let s=[];if(i>1){const a=e[2]-e[0],l=e[3]-e[1];for(let c=0;c<i;++c)s.push(e[0]+a*c/i,e[1],e[2],e[1]+l*c/i,e[2]-a*c/i,e[3],e[0],e[3]-l*c/i)}else s=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(s,s,2);const r=[],o=[];for(let a=0,l=s.length;a<l;a+=2)r.push(s[a]),o.push(s[a+1]);return he(r,o,n)}function Et(e,t){const n=t.getExtent(),i=dt(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=E(n),o=Math.floor((i[0]-n[0])/s)*s;e[0]-=o,e[2]-=o}return e}function Ue(e,t){if(t.canWrapX()){const n=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[n[0],e[1],n[2],e[3]]];Et(e,t);const i=E(n);if(E(e)>i)return[[n[0],e[1],n[2],e[3]]];if(e[0]<n[0])return[[e[0]+i,e[1],n[2],e[3]],[n[0],e[1],e[2],e[3]]];if(e[2]>n[2])return[[e[0],e[1],n[2],e[3]],[n[0],e[1],e[2]-i,e[3]]]}return[e]}var On=Object.freeze(Object.defineProperty({__proto__:null,boundingExtent:fe,buffer:de,clone:ge,closestSquaredDistanceXY:me,containsCoordinate:pe,containsExtent:Ee,containsXY:lt,coordinateRelationship:P,createEmpty:K,createOrUpdate:O,createOrUpdateEmpty:I,createOrUpdateFromCoordinate:_e,createOrUpdateFromCoordinates:ve,createOrUpdateFromFlatCoordinates:ye,createOrUpdateFromRings:Ce,equals:Ie,approximatelyEquals:Oe,extend:Ae,extendCoordinate:U,extendCoordinates:F,extendFlatCoordinates:ct,extendRings:ut,extendXY:ft,forEachCorner:Te,getArea:ht,getBottomLeft:k,getBottomRight:z,getCenter:dt,getCorner:be,getEnlargedArea:Re,getForViewAndSize:Le,getRotatedViewport:gt,getHeight:V,getIntersectionArea:De,getIntersection:mt,getMargin:Me,getSize:we,getTopLeft:W,getTopRight:X,getWidth:E,intersects:pt,isEmpty:B,returnOrUpdate:Pe,scaleFromCenter:Ne,intersectsSegment:Se,applyTransform:Ke,wrapX:Et,wrapAndSliceX:Ue},Symbol.toStringTag,{value:"Module"}));function Fe(e,t,n){return Math.min(Math.max(e,t),n)}function An(e,t,n,i,s,r){const o=s-n,a=r-i;if(o!==0||a!==0){const l=((e-n)*o+(t-i)*a)/(o*o+a*a);l>1?(n=s,i=r):l>0&&(n+=o*l,i+=a*l)}return ke(e,t,n,i)}function ke(e,t,n,i){const s=n-e,r=i-t;return s*s+r*r}function Tn(e){const t=e.length;for(let i=0;i<t;i++){let s=i,r=Math.abs(e[i][i]);for(let a=i+1;a<t;a++){const l=Math.abs(e[a][i]);l>r&&(r=l,s=a)}if(r===0)return null;const o=e[s];e[s]=e[i],e[i]=o;for(let a=i+1;a<t;a++){const l=-e[a][i]/e[i][i];for(let c=i;c<t+1;c++)i==c?e[a][c]=0:e[a][c]+=l*e[i][c]}}const n=new Array(t);for(let i=t-1;i>=0;i--){n[i]=e[i][t]/e[i][i];for(let s=i-1;s>=0;s--)e[s][t]-=e[s][i]*n[i]}return n}function bn(e){return e*180/Math.PI}function Rn(e){return e*Math.PI/180}function Ln(e,t){const n=e%t;return n*t<0?n+t:n}function Dn(e,t,n){return e+n*(t-e)}function G(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function Mn(e,t){return Math.round(G(e,t))}function wn(e,t){return Math.floor(G(e,t))}function Pn(e,t){return Math.ceil(G(e,t))}function Nn(e,t){return e[0]+=+t[0],e[1]+=+t[1],e}function Sn(e,t){const n=t.getRadius(),i=t.getCenter(),s=i[0],r=i[1],o=e[0],a=e[1];let l=o-s;const c=a-r;l===0&&c===0&&(l=1);const u=Math.sqrt(l*l+c*c),f=s+n*l/u,h=r+n*c/u;return[f,h]}function ze(e,t){const n=e[0],i=e[1],s=t[0],r=t[1],o=s[0],a=s[1],l=r[0],c=r[1],u=l-o,f=c-a,h=u===0&&f===0?0:(u*(n-o)+f*(i-a))/(u*u+f*f||0);let d,m;return h<=0?(d=o,m=a):h>=1?(d=l,m=c):(d=o+h*u,m=a+h*f),[d,m]}function Kn(e,t){let n=!0;for(let i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function Ve(e,t){const n=Math.cos(t),i=Math.sin(t),s=e[0]*n-e[1]*i,r=e[1]*n+e[0]*i;return e[0]=s,e[1]=r,e}function We(e,t){return e[0]*=t,e[1]*=t,e}function _t(e,t){const n=e[0]-t[0],i=e[1]-t[1];return n*n+i*i}function Un(e,t){return Math.sqrt(_t(e,t))}function Fn(e,t){return _t(e,ze(e,t))}function kn(e,t){if(t.canWrapX()){const n=E(t.getExtent()),i=Xe(e,t,n);i&&(e[0]-=i*n)}return e}function Xe(e,t,n){const i=t.getExtent();let s=0;return t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||E(i),s=Math.floor((e[0]-i[0])/n)),s}class Be extends jt{constructor(t){super({stopDown:Q}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=t.condition?t.condition:T(at,ot);this.condition_=t.onFocusOnly?T(S,n):n,this.noKinetic_=!1}handleDragEvent(t){const n=t.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,s=n.getEventPixel(Ht(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const r=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],a=t.map.getView();We(r,a.getResolution()),Ve(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const n=t.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-s*Math.cos(r),a[1]-s*Math.sin(r)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:R})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}var zn=Be;class Ge extends it{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const n=t.condition?t.condition:rt;this.condition_=t.onFocusOnly?T(S,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t)||t.type!==v.WHEEL)return!0;const i=t.map,s=t.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate);let r;if(t.type==v.WHEEL&&(r=s.deltaY,Nt&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=Ut),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=r;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(t){const n=t.getView();n.getAnimating()&&n.cancelAnimations();let i=-Fe(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Yt(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}var Vn=Ge;export{Ve as $,An as A,Ye as B,ct as C,Ee as D,v as E,Se as F,$e as G,_e as H,lt as I,J,B as K,Ln as L,Tt as M,Z as N,sn as O,Rt as P,xe as Q,rn as R,on as S,Mt as T,_n as U,x as V,Ft as W,fe as X,$ as Y,He as Z,w as _,L as a,gt as a$,Nn as a0,Le as a1,D as a2,R as a3,It as a4,kn as a5,At as a6,yt as a7,Vt as a8,dn as a9,Ut as aA,Pt as aB,q as aC,Ie as aD,ge as aE,mn as aF,cn as aG,un as aH,et as aI,W as aJ,X as aK,z as aL,k as aM,ht as aN,U as aO,pe as aP,Tn as aQ,ln as aR,Je as aS,Pn as aT,wn as aU,be as aV,Ue as aW,de as aX,We as aY,Mn as aZ,b as a_,mt as aa,an as ab,_ as ac,zt as ad,Wt as ae,En as af,Ot as ag,hn as ah,fn as ai,gn as aj,yn as ak,it as al,Yt as am,jt as an,Q as ao,Jt as ap,le as aq,xt as ar,ae as as,at,oe as au,Cn as av,re as aw,Ht as ax,zn as ay,Vn as az,bn as b,P as b0,g as b1,je as b2,G as b3,Et as b4,en as b5,nn as b6,qe as b7,Ne as b8,pn as b9,Ze as ba,Lt as bb,_t as bc,rt as bd,j as be,Un as bf,te as bg,ot as bh,$t as bi,ne as bj,ze as bk,Fn as bl,Sn as bm,nt as bn,vn as bo,In as bp,On as bq,Ke as c,Xe as d,Kn as e,Fe as f,E as g,K as h,tn as i,I as j,V as k,A as l,Qe as m,ye as n,tt as o,dt as p,O as q,Pe as r,pt as s,Rn as t,M as u,Te as v,me as w,Ae as x,ke as y,Dn as z};
